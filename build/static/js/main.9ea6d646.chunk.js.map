{"version":3,"sources":["components/Discourse/Discourse.js","components/Profile/Profile.js","images/authImg.png","redux/reducers/authReducer.js","components/Alert/Alert.js","components/Auth/Auth.js","redux/reducers/index.js","redux/store.js","components/Navbar/Navbar.js","images/spotlight.png","components/Home/Header.js","components/Forum/ForumCard.js","components/Forum/ForumFeature.js","components/Home/Home.js","components/Comment/Comment.js","components/Profile/ActivityCard.js","components/Profile/BookClubCard.js","utility.js","components/Results/Results.js","App.js","index.js"],"names":["loginModal","commentModal","replyModal","profileModal","authSlice","createSlice","name","initialState","user","reducers","loginUser","state","action","payload","logoutUser","actions","Alert","className","this","props","alertStyle","role","alertDialog","type","data-bs-dismiss","aria-label","onClick","resetAlert","Component","Auth","authType","authLink","userName","email","password","showAlert","handleAuth","bind","changeAuthType","handleInputChange","returnHome","locationState","history","location","undefined","fromAuth","setState","e","preventDefault","loginInfo","fetch","method","mode","headers","body","JSON","stringify","then","response","a","json","data","status","result","dispatch","message","goBack","catch","err","console","log","push","target","value","id","src","Img","alt","onSubmit","placeholder","required","onChange","withRouter","connect","combineReducers","store","createStore","Reducer","window","__REDUX_DEVTOOLS_EXTENSION__","Navbar","searchVal","execSearch","getForums","goToProfile","pathname","params","query","fetched","results","input","queryTerm","i","length","axios","get","process","res","items","volumes","info","volumeInfo","images","imageLinks","Object","values","book","title","authors","categories","fromAPI","received","Store","getState","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","Header","headerForum","bookClubRef","checkoutBookClub","forum","bg","imgLink","author","searchCats","map","category","index","viewCategory","ForumCard","truncate","expandForum","collapseForum","expand","comment","maxLength","peak","onMouseOver","onMouseLeave","goTo","style","backgroundImage","discourse","text","host","ForumFeature","forums","isLoading","settings","dots","infinite","speed","slidesToShow","slidesToScroll","initialSlide","responsive","breakpoint","Home","img","rel","href","Comment","replyToComment","hostComment","replies","reply","Discourse","showLoginModal","replyTo","addComment","callLogin","goToAuth","showCommentModal","addEventListener","Modal","document","getElementById","backdrop","keyboard","focus","error","removeEventListener","pageYOffset","show","member","hide","data-bs-keyboard","tabIndex","aria-labelledby","aria-hidden","rows","_id","ActivityCard","showViewBtn","zIndex","goToForum","recent","BookClubCard","showBtns","posMethod","posBtn","negMethod","negBtn","Profile","userBookClub","memberships","recentActivity","profileUpdate","isMounted","getProfile","exposeViewBtn","hideVeiwBtn","handleInput","delForum","logout","updateProfile","execProfileChange","execImageChange","execDelete","prevProps","prevState","memberForums","bookClub","querySelector","newInfo","queryEmail","confirmEmail","update","file","callback","mimes","mime","pattern","mask","check","bytes","l","blob","slice","reader","FileReader","onloadend","readyState","DONE","Uint8Array","readAsArrayBuffer","loadMime","profiileImage","answer","formData","FormData","append","verify","confirmPassword","files","aria-selected","encType","accept","Date","memberDate","toLocaleDateString","activity","Results","createForum","viewForum","resultsArr","searchCategories","App","path","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9ea6d646.chunk.js","sourcesContent":["import \"./Discourse.css\";\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport Comment from \"../Comment/Comment\";\r\nimport { Modal } from \"bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport Alert from \"../Alert/Alert\";\r\n\r\nlet loginModal;\r\nlet commentModal;\r\nlet replyModal;\r\n\r\nclass Discourse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showLoginModal: false,\r\n      reply: \"\",\r\n      replyTo: null,\r\n      comment: \"\",\r\n      showAlert: false,\r\n      alertStyle: \"\",\r\n      alertDialog: \"\",\r\n      bookClubRef: this.props.location.state.bookClubRef,\r\n      forum: this.props.location.state.forum,\r\n    };\r\n    this.addComment = this.addComment.bind(this);\r\n\r\n    this.callLogin = this.callLogin.bind(this);\r\n    this.returnHome = this.returnHome.bind(this);\r\n    this.goToAuth = this.goToAuth.bind(this);\r\n    this.showCommentModal = this.showCommentModal.bind(this);\r\n    this.resetAlert = this.resetAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"scroll\", this.callLogin);\r\n    loginModal = new Modal(document.getElementById(\"loginPopup\"), {\r\n      backdrop: \"static\",\r\n      keyboard: false,\r\n      focus: true,\r\n    });\r\n\r\n    commentModal = new Modal(document.getElementById(\"commentModal\"), {\r\n      keyboard: false,\r\n      focus: true,\r\n    });\r\n\r\n    replyModal = new Modal(document.getElementById(\"replyModal\"), {\r\n      keyboard: false,\r\n      focus: true,\r\n    });\r\n\r\n    fetch(\"/getForum\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        bookClubRef: this.props.location.state.bookClubRef,\r\n        forum: this.props.location.state.forum,\r\n      }),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        this.setState({\r\n          bookClubRef: data.message.bookClubRef,\r\n          forum: data.message.forum,\r\n        });\r\n      })\r\n      .catch((e) => console.error(e));\r\n\r\n    this.setState({ forum: this.props.location.state.forum });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.callLogin);\r\n  }\r\n\r\n  callLogin() {\r\n    if (window.pageYOffset > 700 && this.props.user === null) {\r\n      this.setState({ showLoginModal: true });\r\n\r\n      loginModal.show();\r\n    }\r\n  }\r\n\r\n  resetAlert() {\r\n    this.setState({\r\n      showAlert: false,\r\n      alertStyle: \"\",\r\n      alertDialog: \"\",\r\n    });\r\n  }\r\n\r\n  addComment(type) {\r\n    const member = this.props.user;\r\n    let comment;\r\n    let body;\r\n\r\n    if (type === \"COMMENT\") {\r\n      comment = this.state.comment;\r\n      body = {\r\n        bookClubRef: this.state.bookClubRef,\r\n        forum: this.state.forum,\r\n        member,\r\n        comment,\r\n      };\r\n    } else {\r\n      comment = this.state.reply;\r\n      body = {\r\n        bookClubRef: this.state.bookClubRef,\r\n        forum: this.state.forum,\r\n        member,\r\n        comment,\r\n        replyTo: this.state.replyTo,\r\n      };\r\n    }\r\n\r\n    fetch(\"/addToDiscourse\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        commentModal.hide();\r\n        replyModal.hide();\r\n        if (response.status === 201) {\r\n          this.setState({\r\n            forum: data.message.forum,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            showAlert: true,\r\n            alertStyle: \"danger\",\r\n            alertDialog: \"Comment not added. Try again later!\",\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }\r\n\r\n  showCommentModal(type, replyTo) {\r\n    if (this.props.user) {\r\n      if (type === \"COMMENT\") {\r\n        commentModal.show();\r\n      } else {\r\n        this.setState({\r\n          replyTo: replyTo,\r\n        });\r\n        replyModal.show();\r\n      }\r\n    } else {\r\n      loginModal.show();\r\n    }\r\n  }\r\n\r\n  returnHome() {\r\n    loginModal.hide();\r\n\r\n    this.props.history.push(\"/\");\r\n  }\r\n\r\n  goToAuth(authType) {\r\n    if (authType === \"SIGNUP\") {\r\n      loginModal.hide();\r\n      this.props.history.push(\"/auth\");\r\n    } else {\r\n      loginModal.hide();\r\n      this.props.history.push({\r\n        pathname: \"/auth\",\r\n        state: {\r\n          authType: \"LOGIN\",\r\n          fromAuth: true,\r\n          authLink: \"Sign up here..\",\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={\"position-relative\"}>\r\n        <div\r\n          className=\"modal fade\"\r\n          id=\"replyModal\"\r\n          data-bs-keyboard=\"false\"\r\n          tabIndex=\"-1\"\r\n          aria-labelledby=\"staticBackdropLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content position-relative\">\r\n              <div className=\"modal-header\">\r\n                <div className=\"modalAccent position-absolute\"></div>\r\n                <button\r\n                  onClick={() => {\r\n                    replyModal.hide();\r\n                  }}\r\n                  type=\"button\"\r\n                  className=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                ></button>{\" \"}\r\n              </div>\r\n\r\n              <div className=\"modal-body text-center p-5 position-relative\">\r\n                <h1>Reply</h1>\r\n                <textarea\r\n                  onChange={(e) => {\r\n                    this.setState({ reply: e.target.value });\r\n                  }}\r\n                  name=\"forumComment\"\r\n                  id=\"forumComment\"\r\n                  rows=\"5\"\r\n                  className=\"w-100 forumComment mb-5 mt-3\"\r\n                ></textarea>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => this.addComment(\"REPLY\")}\r\n                  className=\"btn w-100 rounded-pill\"\r\n                >\r\n                  Submit\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"modal fade\"\r\n          id=\"commentModal\"\r\n          data-bs-keyboard=\"false\"\r\n          tabIndex=\"-1\"\r\n          aria-labelledby=\"staticBackdropLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content position-relative\">\r\n              <div className=\"modal-header\">\r\n                <div className=\"modalAccent position-absolute\"></div>\r\n                <button\r\n                  onClick={() => {\r\n                    commentModal.hide();\r\n                  }}\r\n                  type=\"button\"\r\n                  className=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                ></button>{\" \"}\r\n              </div>\r\n\r\n              <div className=\"modal-body text-center p-5 position-relative\">\r\n                <h1>Comment on this Forum!</h1>\r\n                <textarea\r\n                  onChange={(e) => {\r\n                    this.setState({ comment: e.target.value });\r\n                  }}\r\n                  name=\"forumComment\"\r\n                  id=\"forumComment\"\r\n                  rows=\"5\"\r\n                  className=\"w-100 forumComment mb-5 mt-3\"\r\n                ></textarea>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => this.addComment(\"COMMENT\")}\r\n                  className=\"btn w-100 rounded-pill\"\r\n                >\r\n                  Submit\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"modal fade\"\r\n          id=\"loginPopup\"\r\n          data-bs-keyboard=\"false\"\r\n          tabIndex=\"-1\"\r\n          aria-labelledby=\"staticBackdropLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content position-relative\">\r\n              <div className=\"modalAccent position-absolute\"></div>\r\n              <div className=\"modal-body text-center p-5 position-relative\">\r\n                <div className=\"d-flex justify-content-end mb-4\">\r\n                  <button\r\n                    className=\"returnBtn\"\r\n                    type=\"button\"\r\n                    onClick={this.returnHome}\r\n                  >\r\n                    Home\r\n                  </button>\r\n                </div>\r\n\r\n                <h1>Join Forum</h1>\r\n                <p className=\"m-auto mb-4 mt-4 bt-4\">\r\n                  Sign up for Forum today to become part of the discussion!\r\n                </p>\r\n                <div className=\"loginOps d-flex justify-content-center\">\r\n                  <button\r\n                    onClick={() => this.goToAuth(\"SIGNUP\")}\r\n                    className=\"btn rounded-pill w-50 me-3\"\r\n                  >\r\n                    Sign Up\r\n                  </button>\r\n                  <button onClick={() => this.goToAuth(\"LOGIN\")}>\r\n                    {\" \"}\r\n                    Log in here...\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Navbar />\r\n        <div className=\"discourseContainer container-fluid\">\r\n          <div className=\"discourse row\">\r\n            <div className=\"discourseSidebar text-break text-center col-12 col-md-3 py-3 d-flex flex-column align-items-center\">\r\n              <p>\r\n                <strong>Forum by {this.state.forum?.host.userName}</strong>\r\n              </p>\r\n\r\n              <img\r\n                className=\"rounded-3 pb-3\"\r\n                src={`${this.state.forum?.book.imgLink}`}\r\n                alt=\"Book\"\r\n              />\r\n\r\n              <h3>{this.state.forum?.book.title}</h3>\r\n              <p>by {this.state.forum?.book.author}</p>\r\n              <button\r\n                onClick={() => this.showCommentModal(\"COMMENT\", null)}\r\n                className=\"btn rounded-pill w-75\"\r\n              >\r\n                Comment\r\n              </button>\r\n            </div>\r\n            <div className=\"discourseMain col-12 col-md-9 p-0 d-flex flex-column justify-content-between\">\r\n              <div className=\"comments pt-3 pb-5 \">\r\n                {this.state.showAlert && (\r\n                  <Alert\r\n                    alertStyle={this.state.alertStyle}\r\n                    alertDialog={this.state.alertDialog}\r\n                    resetAlert={this.resetAlert}\r\n                  />\r\n                )}\r\n                <h1 className=\"px-3 px-md-4 px-xxl-5\">Comments</h1>\r\n                {this.state.forum?.discourse.length > 0 ? (\r\n                  this.state.forum?.discourse.map((comment, index) => (\r\n                    <Comment\r\n                      key={index}\r\n                      replyToComment={() =>\r\n                        this.showCommentModal(\"REPLY\", comment)\r\n                      }\r\n                      user={comment.author.userName}\r\n                      comment={comment.text}\r\n                      hostComment={\r\n                        this.state.forum?.host._id === comment.author._id\r\n                          ? true\r\n                          : false\r\n                      }\r\n                      id={comment._id}\r\n                      replies={comment.replies}\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <p className=\"px-3 px-md-4 px-xxl-5\">\r\n                    Start the conversation! Leave the first comment for this\r\n                    Forum.\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <footer className=\"footer text-center d-flex flex-column justify-content-center align-items-center\">\r\n                Icons made by Mavadee @\r\n                <a\r\n                  rel=\"noopener noreferrer\"\r\n                  href=\"https://www.flaticon.com/\"\r\n                  target=\"_blank\"\r\n                >\r\n                  www.flaticon.com\r\n                </a>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.Auth.user,\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(Discourse));\r\n","import \"./Profile.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser, logoutUser } from \"../../redux/reducers/authReducer\";\r\nimport Alert from \"../Alert/Alert\";\r\nimport React, { Component } from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport ActivityCard from \"./ActivityCard\";\r\nimport BookClubCard from \"./BookClubCard\";\r\nimport { Modal } from \"bootstrap\";\r\nimport loadMime from \"../../utility\";\r\n\r\nlet profileModal;\r\n\r\nclass Profile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: {},\r\n      userBookClub: {},\r\n      memberships: [],\r\n      recentActivity: [],\r\n      profileUpdate: {},\r\n      showAlert: false,\r\n      alertStyle: \"\",\r\n      alertDialog: \"\",\r\n      isMounted: false,\r\n    };\r\n\r\n    this.getProfile = this.getProfile.bind(this);\r\n    this.checkoutBookClub = this.checkoutBookClub.bind(this);\r\n    this.exposeViewBtn = this.exposeViewBtn.bind(this);\r\n    this.hideVeiwBtn = this.hideVeiwBtn.bind(this);\r\n    this.handleInput = this.handleInput.bind(this);\r\n    this.delForum = this.delForum.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n\r\n    this.updateProfile = this.updateProfile.bind(this);\r\n    this.execProfileChange = this.execProfileChange.bind(this);\r\n    this.execImageChange = this.execImageChange.bind(this);\r\n    this.execDelete = this.execDelete.bind(this);\r\n    this.resetAlert = this.resetAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ isMounted: true });\r\n    this.getProfile();\r\n\r\n    profileModal = new Modal(document.getElementById(\"profileModal\"));\r\n  }\r\n  /**FIGURE OUT WHY INFIT CALLS TO GET PROFILE */\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      this.state.userBookClub !== prevState.userBookClub ||\r\n      this.state.memberships !== prevState.memberships ||\r\n      this.props.user !== prevProps.user\r\n    ) {\r\n      this.getProfile();\r\n    }\r\n  }\r\n\r\n  getProfile() {\r\n    fetch(\"/getProfile\", {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        if (response.status === 200) {\r\n          this.setState({\r\n            userBookClub:\r\n              data.message.userBookClub === null ||\r\n              data.message.userBookClub.length === 0\r\n                ? null\r\n                : data.message.userBookClub[0],\r\n            memberships: data.message.memberForums,\r\n          });\r\n          return data.message.memberForums.forums;\r\n        } else {\r\n          console.log(data.message);\r\n        }\r\n      })\r\n\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  delForum(forum) {\r\n    fetch(\"/delForum\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        bookClubRef: this.state.userBookClub._id,\r\n        forum: forum,\r\n      }),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        if (response.status !== 200) {\r\n          this.setState({\r\n            showAlert: true,\r\n            alertStyle: \"danger\",\r\n            alertDialog: data.message,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            showAlert: true,\r\n            alertStyle: \"success\",\r\n            alertDialog: \"Forum deleted successfully.\",\r\n            userBookClub: data.message.bookClub,\r\n            memberships: data.message.memberForums,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  logout() {\r\n    fetch(\"/logout/removeFiles\", {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        return {\r\n          status: response.status,\r\n          data: data,\r\n        };\r\n      })\r\n      .then((result) => {\r\n        if (result.status === 200) {\r\n          this.props.dispatch(logoutUser());\r\n          this.props.history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  resetAlert() {\r\n    this.setState({\r\n      showAlert: false,\r\n      alertStyle: \"\",\r\n      alertDialog: \"\",\r\n    });\r\n  }\r\n\r\n  checkoutBookClub(forum) {\r\n    this.props.history.push({\r\n      pathname: \"/forum\",\r\n      state: {\r\n        forum: forum,\r\n        bookClubRef: this.state.userBookClub._id,\r\n      },\r\n    });\r\n  }\r\n  exposeViewBtn(index) {\r\n    const img = document.getElementById(index);\r\n    img.style.zIndex = -1;\r\n  }\r\n  hideVeiwBtn() {\r\n    const img = document.querySelector(\".activity img\");\r\n    img.style.zIndex = 2;\r\n  }\r\n\r\n  updateProfile(e, type) {\r\n    e.preventDefault();\r\n    switch (type) {\r\n      case \"PROFILE\":\r\n        this.execProfileChange();\r\n\r\n        break;\r\n      case \"IMAGE\":\r\n        this.execImageChange();\r\n        break;\r\n      case \"DELETE\":\r\n        this.execDelete();\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    // this.imgUpload.current.files[0].name\r\n  }\r\n\r\n  execProfileChange() {\r\n    let newInfo = {\r\n      queryEmail: this.state.confirmEmail,\r\n      update: {},\r\n    };\r\n    if (this.state.userName !== null && this.state.userName?.length > 0) {\r\n      newInfo.update.userName = this.state.userName;\r\n    }\r\n    if (this.state.email !== null && this.state.email?.length > 0) {\r\n      newInfo.update.email = this.state.email;\r\n    }\r\n    if (this.state.password !== null && this.state.password?.length > 0) {\r\n      newInfo.update.password = this.state.password;\r\n    }\r\n\r\n    fetch(\"/updateProfile\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(newInfo),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        return {\r\n          status: response.status,\r\n          data: data,\r\n        };\r\n      })\r\n      .then((result) => {\r\n        if (result.status === 200) {\r\n          profileModal.hide();\r\n          this.setState({\r\n            showAlert: true,\r\n            alertStyle: \"success\",\r\n            alertDialog: \"Profile updated successfully!\",\r\n          });\r\n          this.props.dispatch(loginUser(result.data.message));\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  execImageChange() {\r\n    loadMime(this.state.profiileImage, (answer) => {\r\n      if (!answer) {\r\n        profileModal.hide();\r\n        this.setState({\r\n          showAlert: true,\r\n          alertStyle: \"danger\",\r\n          alertDialog:\r\n            \"File type not accepted. Please upload a .png or .jpg image file.\",\r\n        });\r\n      } else {\r\n        const formData = new FormData();\r\n        formData.append(\"email\", this.state.confirmEmail);\r\n        formData.append(\"img\", this.state.profiileImage);\r\n\r\n        fetch(\"/updateProfileImage\", {\r\n          method: \"POST\",\r\n          mode: \"cors\",\r\n\r\n          body: formData,\r\n        })\r\n          .then(async (response) => {\r\n            const data = await response.json();\r\n            if (response.status !== 200) {\r\n              profileModal.hide();\r\n              this.setState({\r\n                showAlert: true,\r\n                alertStyle: \"danger\",\r\n                alertDialog: data.message,\r\n              });\r\n            } else {\r\n              profileModal.hide();\r\n              this.setState({\r\n                showAlert: true,\r\n                alertStyle: \"success\",\r\n                alertDialog: \"Profile updated successfully!\",\r\n              });\r\n              this.props.dispatch(loginUser(data.message));\r\n            }\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    });\r\n  }\r\n\r\n  execDelete() {\r\n    const verify = {\r\n      email: this.state.confirmEmail,\r\n      password: this.state.confirmPassword,\r\n    };\r\n\r\n    fetch(\"/delAcct\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(verify),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        if (response.status !== 200) {\r\n          this.setState({\r\n            showAlert: true,\r\n            alertStyle: \"danger\",\r\n            alertDialog: data.message,\r\n          });\r\n        } else {\r\n          profileModal.hide();\r\n          this.props.dispatch(logoutUser());\r\n          this.props.history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInput(e) {\r\n    if (e.target.type === \"file\") {\r\n      this.setState({\r\n        profiileImage: e.target.files[0],\r\n      });\r\n    } else {\r\n      this.setState({\r\n        [e.target.name]: e.target.value,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"profilePage\">\r\n        <Navbar />\r\n        <div\r\n          className=\"modal fade\"\r\n          id=\"profileModal\"\r\n          tabIndex=\"-1\"\r\n          aria-labelledby=\"profileModalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h1>Profile Edit</h1>\r\n                <button\r\n                  onClick={() => {\r\n                    profileModal.hide();\r\n                  }}\r\n                  type=\"button\"\r\n                  className=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                ></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <ul className=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                  <li className=\"nav-item\" role=\"presentation\">\r\n                    <button\r\n                      className=\"nav-link active\"\r\n                      id=\"image-tab\"\r\n                      data-bs-toggle=\"tab\"\r\n                      data-bs-target=\"#image\"\r\n                      type=\"button\"\r\n                      role=\"tab\"\r\n                      aria-controls=\"image\"\r\n                      aria-selected=\"true\"\r\n                    >\r\n                      Image\r\n                    </button>\r\n                  </li>\r\n                  <li className=\"nav-item\" role=\"presentation\">\r\n                    <button\r\n                      className=\"nav-link\"\r\n                      id=\"profile-tab\"\r\n                      data-bs-toggle=\"tab\"\r\n                      data-bs-target=\"#profile\"\r\n                      type=\"button\"\r\n                      role=\"tab\"\r\n                      aria-controls=\"profile\"\r\n                      aria-selected=\"false\"\r\n                    >\r\n                      Profile\r\n                    </button>\r\n                  </li>\r\n                  <li className=\"nav-item\" role=\"presentation\">\r\n                    <button\r\n                      className=\"nav-link\"\r\n                      id=\"delete-tab\"\r\n                      data-bs-toggle=\"tab\"\r\n                      data-bs-target=\"#delete\"\r\n                      type=\"button\"\r\n                      role=\"tab\"\r\n                      aria-controls=\"delete\"\r\n                      aria-selected=\"false\"\r\n                    >\r\n                      Delete Account\r\n                    </button>\r\n                  </li>\r\n                </ul>\r\n                <div className=\"tab-content p-3 mb-5\">\r\n                  <div\r\n                    className=\"tab-pane active\"\r\n                    id=\"image\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"image-tab\"\r\n                  >\r\n                    <h5 className=\"mb-3 fs-6\">Select a new profile image.</h5>\r\n                    <form\r\n                      id=\"imageForm\"\r\n                      name=\"imageForm\"\r\n                      encType=\"multipart/form-data\"\r\n                      onSubmit={(e) => {\r\n                        this.updateProfile(e, \"IMAGE\");\r\n                      }}\r\n                    >\r\n                      <input\r\n                        onChange={(e) => {\r\n                          this.handleInput(e);\r\n                        }}\r\n                        type=\"confirmEmail\"\r\n                        name=\"confirmEmail\"\r\n                        placeholder=\"Current Email\"\r\n                        className=\"formControl w-100\"\r\n                        required\r\n                      />\r\n                      <input\r\n                        onChange={(e) => this.handleInput(e)}\r\n                        type=\"file\"\r\n                        name=\"profileImage\"\r\n                        id=\"profileImage\"\r\n                        className=\"form-control\"\r\n                        accept=\"image/*\"\r\n                      />\r\n                      <button className=\"btn w-100 rounded-pill mt-3\">\r\n                        Update\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                  <div\r\n                    className=\"tab-pane\"\r\n                    id=\"profile\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"profile-tab\"\r\n                  >\r\n                    <h5 className=\"mb-3 fs-6\">Update your profile.</h5>\r\n                    <form\r\n                      onSubmit={(e) => {\r\n                        this.updateProfile(e, \"PROFILE\");\r\n                      }}\r\n                    >\r\n                      <input\r\n                        onChange={(e) => {\r\n                          this.handleInput(e);\r\n                        }}\r\n                        type=\"confirmEmail\"\r\n                        name=\"confirmEmail\"\r\n                        placeholder=\"Current Email\"\r\n                        className=\"formControl w-100\"\r\n                        required\r\n                      />\r\n                      <input\r\n                        onChange={(e) => {\r\n                          this.handleInput(e);\r\n                        }}\r\n                        type=\"text\"\r\n                        name=\"userName\"\r\n                        placeholder=\"New Username\"\r\n                        className=\"formControl w-100\"\r\n                      />\r\n                      <input\r\n                        onChange={(e) => {\r\n                          this.handleInput(e);\r\n                        }}\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"New Email\"\r\n                        className=\"formControl w-100\"\r\n                      />\r\n\r\n                      <input\r\n                        onChange={(e) => {\r\n                          this.handleInput(e);\r\n                        }}\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\"New Password\"\r\n                        className=\"formControl w-100\"\r\n                      />\r\n\r\n                      <button type=\"submit\" className=\"btn w-100 rounded-pill\">\r\n                        Update\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                  <div\r\n                    className=\"tab-pane\"\r\n                    id=\"delete\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"delete-tab\"\r\n                  >\r\n                    <h5 className=\"mb-3 fs-6\">\r\n                      Sorry to see you go! Please confirm your login to delete\r\n                      your account.\r\n                    </h5>\r\n                    <form\r\n                      onSubmit={(e) => {\r\n                        this.updateProfile(e, \"DELETE\");\r\n                      }}\r\n                    >\r\n                      <input\r\n                        onChange={(e) => {\r\n                          this.handleInput(e);\r\n                        }}\r\n                        type=\"confirmEmail\"\r\n                        name=\"confirmEmail\"\r\n                        placeholder=\"Email\"\r\n                        className=\"formControl w-100\"\r\n                        required\r\n                      />\r\n\r\n                      <input\r\n                        onChange={(e) => {\r\n                          this.handleInput(e);\r\n                        }}\r\n                        type=\"confirmPassword\"\r\n                        name=\"confirmPassword\"\r\n                        placeholder=\"Password\"\r\n                        required\r\n                        className=\"formControl w-100\"\r\n                      />\r\n\r\n                      <button type=\"submit\" className=\"btn w-100 rounded-pill\">\r\n                        Delete Account\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"profileContainer container-fluid\">\r\n          <div className=\"profile row\">\r\n            <div className=\"profileSidebar text-break text-center col-12 col-md-3 col-lg-2 py-3 d-flex flex-column align-items-center\">\r\n              <img\r\n                src={\r\n                  this.props.user?.img\r\n                    ? `/uploads/${this.props.user?.img}`\r\n                    : `/uploads/sampleUser.png`\r\n                }\r\n                alt=\"User\"\r\n                className=\"rounded-circle mb-2\"\r\n              />\r\n              <button\r\n                onClick={() => {\r\n                  profileModal.show();\r\n                }}\r\n                className=\"imgEdit mb-3 mb-md-5\"\r\n              >\r\n                Edit Image\r\n              </button>\r\n              <h1>{this.props.user?.userName}</h1>\r\n              <p className=\"mb-3 mb-md-5\">\r\n                Member Since{\" \"}\r\n                {new Date(this.props.user?.memberDate).toLocaleDateString()}\r\n              </p>\r\n              <button\r\n                onClick={() => {\r\n                  profileModal.show();\r\n                }}\r\n                className=\"btn rounded-pill mb-1 w-75 editBtn\"\r\n              >\r\n                Edit Profile\r\n              </button>\r\n              <button\r\n                onClick={this.logout}\r\n                className=\"btn rounded-pill mb-5 w-75\"\r\n              >\r\n                Logout\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  profileModal.show();\r\n                }}\r\n                className=\"btn delAcctBtn rounded-pill w-75\"\r\n              >\r\n                Delete Account\r\n              </button>\r\n            </div>\r\n            <div className=\"profileMain col-12 col-md-9 col-lg-10 p-0 d-flex flex-column justify-content-between\">\r\n              <div className=\"profileMainContent py-3  \">\r\n                {this.state.showAlert && (\r\n                  <Alert\r\n                    alertStyle={this.state.alertStyle}\r\n                    alertDialog={this.state.alertDialog}\r\n                    resetAlert={this.resetAlert}\r\n                  />\r\n                )}\r\n                <h1 className=\"px-3 px-xl-4\">Forums in Your Book Club</h1>\r\n\r\n                {this.state.userBookClub === null ||\r\n                this.state.userBookClub?.forums?.length === 0 ? (\r\n                  <p className=\"px-3 px-xl-4\">\r\n                    Start your Book Club today! Use the search bar to select a\r\n                    book to create your first <strong>Forum</strong>.\r\n                  </p>\r\n                ) : (\r\n                  <div>\r\n                    <div className=\"userForums mb-5 d-flex px-3 px-xl-4\">\r\n                      {this.state.userBookClub.forums?.map((forum, index) => (\r\n                        <BookClubCard\r\n                          book={forum.book}\r\n                          title={forum.book.title}\r\n                          author={forum.book.author}\r\n                          img={\r\n                            forum.book.imgLink !== null\r\n                              ? forum.book.imgLink\r\n                              : \"/uploads/sampleBook.png\"\r\n                          }\r\n                          key={index}\r\n                          posMethod={() => this.checkoutBookClub(forum)}\r\n                          posBtn=\"View\"\r\n                          negMethod={() => this.delForum(forum)}\r\n                          negBtn=\"Delete\"\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <h1 className=\"px-3 px-xl-4 mb-3\">\r\n                  Recent Activity in Book Clubs You Belong To\r\n                </h1>\r\n                {this.state.memberships === null ||\r\n                this.state.memberships === undefined ||\r\n                this.state.memberships?.length === 0 ? (\r\n                  <p className=\"px-3 px-xl-4 mb-3\">\r\n                    Join a Book Club today! Use the search bar to find a{\" \"}\r\n                    <strong>Forum</strong> hosted for your favorite book.\r\n                  </p>\r\n                ) : (\r\n                  <div>\r\n                    <div className=\"recentActivity d-flex flex-wrap mb-5\">\r\n                      {this.state.memberships?.map((activity, index) => (\r\n                        <ActivityCard\r\n                          goToForum={() => this.checkoutBookClub(activity)}\r\n                          img={activity.book.imgLink}\r\n                          key={index}\r\n                          recent={\r\n                            activity.discourse[\r\n                              activity.discourse.length - 1\r\n                            ] !== undefined\r\n                              ? activity.discourse[\r\n                                  activity.discourse.length - 1\r\n                                ].text\r\n                              : \"No comments yet! Vist this forum to get the ball rolling.\"\r\n                          }\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <footer className=\"footer text-center d-flex flex-column justify-content-center align-items-center\">\r\n                Icons made by Mavadee @\r\n                <a\r\n                  rel=\"noopener noreferrer\"\r\n                  href=\"https://www.flaticon.com/\"\r\n                  target=\"_blank\"\r\n                >\r\n                  www.flaticon.com\r\n                </a>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.Auth.user,\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(Profile));\r\n","export default __webpack_public_path__ + \"static/media/authImg.3dc77678.png\";","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: {\r\n    user: null,\r\n  },\r\n  reducers: {\r\n    loginUser: (state, action) => {\r\n      state.user = action.payload;\r\n    },\r\n    logoutUser: (state) => {\r\n      state.user = null;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { loginUser, logoutUser } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Alert extends Component {\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`alert alert-${this.props.alertStyle} alert-dismissible fade show`}\r\n        role=\"alert\"\r\n      >\r\n        {this.props.alertDialog}\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn-close\"\r\n          data-bs-dismiss=\"alert\"\r\n          aria-label=\"Close\"\r\n          onClick={this.props.resetAlert}\r\n        ></button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./Auth.css\";\r\nimport React, { Component } from \"react\";\r\nimport Img from \"../../images/authImg.png\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../redux/reducers/authReducer\";\r\nimport Alert from \"../Alert/Alert\";\r\n\r\nclass Auth extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      authType: \"SIGNUP\",\r\n      authLink: \"Login here..\",\r\n      userName: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      showAlert: false,\r\n      alertStyle: \"\",\r\n      alertDialog: \"\",\r\n    };\r\n\r\n    this.handleAuth = this.handleAuth.bind(this);\r\n    this.changeAuthType = this.changeAuthType.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.returnHome = this.returnHome.bind(this);\r\n    this.resetAlert = this.resetAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const locationState = this.props.history.location.state;\r\n    if (locationState !== undefined && locationState.fromAuth !== null) {\r\n      this.setState({ authType: \"LOGIN\", authLink: \"Sign up here..\" });\r\n    }\r\n  }\r\n\r\n  handleAuth(e) {\r\n    e.preventDefault();\r\n    let loginInfo = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n    if (this.state.authType === \"SIGNUP\") {\r\n      loginInfo.userName = this.state.userName;\r\n    }\r\n\r\n    fetch(\"/auth\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(loginInfo),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        return {\r\n          status: response.status,\r\n          data: data,\r\n        };\r\n      })\r\n      .then((result) => {\r\n        if (result.status === 200 || result.status === 201) {\r\n          this.props.dispatch(loginUser(result.data.message));\r\n          this.props.history.goBack();\r\n        } else {\r\n          this.setState({\r\n            showAlert: true,\r\n            alertStyle: \"danger\",\r\n            alertDialog: result.data.message,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  resetAlert() {\r\n    this.setState({\r\n      showAlert: false,\r\n      alertStyle: \"\",\r\n      alertDialog: \"\",\r\n    });\r\n  }\r\n\r\n  changeAuthType(e) {\r\n    if (this.state.authType === \"SIGNUP\") {\r\n      this.setState({ authType: \"LOGIN\", authLink: \"Sign up here...\" });\r\n    } else {\r\n      this.setState({ authType: \"SIGNUP\", authLink: \"Login here...\" });\r\n    }\r\n  }\r\n\r\n  returnHome() {\r\n    this.props.history.push(\"/\");\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"auth position-relative\">\r\n        <div className=\"authContainer w-100 p-3 position-absolute top-50 start-50 translate-middle\">\r\n          <div className=\"auth d-flex justify-content-center\">\r\n            <div className=\"authImg\">\r\n              <img src={Img} alt=\"brand\" />\r\n            </div>\r\n\r\n            <div className=\"authForm\">\r\n              <div\r\n                className=\"text-end mb-3 formBackBtn\"\r\n                onClick={this.returnHome}\r\n              >\r\n                Home\r\n              </div>\r\n              {this.state.showAlert && (\r\n                <Alert\r\n                  alertStyle={this.state.alertStyle}\r\n                  alertDialog={this.state.alertDialog}\r\n                  resetAlert={this.resetAlert}\r\n                />\r\n              )}\r\n              <h1 className=\"text-center\">Forum</h1>\r\n              <p className=\"text-center\">Where book lovers unite!</p>\r\n              <form onSubmit={this.handleAuth}>\r\n                {this.state.authType === \"SIGNUP\" && (\r\n                  <input\r\n                    className=\"d-block mb-3 w-100\"\r\n                    type=\"text\"\r\n                    name=\"userName\"\r\n                    id=\"userName\"\r\n                    placeholder=\"Username\"\r\n                    required\r\n                    onChange={(e) => {\r\n                      this.handleInputChange(e);\r\n                    }}\r\n                  />\r\n                )}\r\n                <input\r\n                  className=\"d-block mb-3 w-100\"\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  placeholder=\"Email\"\r\n                  onChange={(e) => {\r\n                    this.handleInputChange(e);\r\n                  }}\r\n                  required\r\n                />\r\n                <input\r\n                  className=\"d-block mb-3 w-100\"\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  placeholder=\"Password\"\r\n                  onChange={(e) => {\r\n                    this.handleInputChange(e);\r\n                  }}\r\n                  required\r\n                />\r\n                <div className=\"authOptions d-flex\">\r\n                  <button className=\"btn rounded-pill mb-3\" type=\"submit\">\r\n                    {this.state.authType === \"SIGNUP\" ? \"Sign Up\" : \"Login\"}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"mb-3\"\r\n                    onClick={this.changeAuthType}\r\n                  >\r\n                    {this.state.authLink}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  user: state.Auth.user,\r\n});\r\nexport default withRouter(connect(mapStateToProps)(Auth));\r\n","import { combineReducers } from \"redux\";\r\nimport Auth from \"./authReducer\";\r\n\r\nexport default combineReducers({\r\n  Auth,\r\n});\r\n","import { createStore } from \"redux\";\r\nimport Reducer from \"./reducers/index\";\r\n\r\nconst store = createStore(\r\n  Reducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nexport default store;\r\n","import \"./Navbar.css\";\r\nimport { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Store from \"../../redux/store\";\r\nimport { loginUser, logoutUser } from \"../../redux/reducers/authReducer\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst KEY = process.env.REACT_APP_GOOGLE_KEY;\r\n\r\nclass Navbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      searchVal: \"\",\r\n      value: \"\",\r\n    };\r\n    this.execSearch = this.execSearch.bind(this);\r\n    this.getForums = this.getForums.bind(this);\r\n    this.goToProfile = this.goToProfile.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    fetch(\"/confirmAuth\", {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        const result = {\r\n          data: data,\r\n          status: response.status,\r\n        };\r\n\r\n        return result;\r\n      })\r\n      .then((result) => {\r\n        if (result.status === 200) {\r\n          this.props.dispatch(loginUser(result.data.message));\r\n        } else {\r\n          this.props.dispatch(logoutUser());\r\n          if (\r\n            this.props.location.pathname !== \"/forum\" &&\r\n            this.props.location.pathname !== \"/results\"\r\n          ) {\r\n            this.props.history.push(\"/\");\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getForums(params) {\r\n    fetch(\"/getForumsByQuery\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ query: params }),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        if (response.status === 200) {\r\n          this.props.history.push({\r\n            pathname: \"/results\",\r\n            state: {\r\n              fetched: data.message.results,\r\n            },\r\n          });\r\n        } else {\r\n          console.log(data.message);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  execSearch(e) {\r\n    e.preventDefault();\r\n    let input = this.state.searchVal;\r\n    let params = \"\";\r\n    let maxResults = 40;\r\n    let queryTerm = \"\";\r\n\r\n    for (let i = 0; i < input.length; i++) {\r\n      if (input[i] === \" \") {\r\n        params += \"+\";\r\n      } else {\r\n        params += input[i];\r\n      }\r\n    }\r\n\r\n    if (this.state.value === \"FORUM\") {\r\n      this.getForums(input);\r\n    } else {\r\n      switch (this.state.value) {\r\n        case \"TITLE\":\r\n          queryTerm = \"intitle:\";\r\n          break;\r\n        case \"AUTHOR\":\r\n          queryTerm = \"inauthor:\";\r\n          break;\r\n        case \"ISBN\":\r\n          queryTerm = \"isbn:\";\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n\r\n      axios\r\n        .get(\r\n          `https://www.googleapis.com/books/v1/volumes?q=${queryTerm}${params}&maxResults=${maxResults}&key=${KEY}`\r\n        )\r\n\r\n        .then(async (res) => {\r\n          let results = await res.data.items;\r\n          const volumes = [];\r\n\r\n          for (let i = 0; i < results?.length; i++) {\r\n            let info = results[i].volumeInfo;\r\n\r\n            let images = info?.imageLinks;\r\n\r\n            if (images) {\r\n              images = Object.values(info?.imageLinks);\r\n            }\r\n\r\n            let book = {\r\n              title: info.title,\r\n              authors: info.authors,\r\n              categories: info.categories,\r\n              imageLinks: images,\r\n            };\r\n            volumes.push(book);\r\n          }\r\n\r\n          return volumes;\r\n        })\r\n\r\n        .then((volumes) => {\r\n          this.props.history.push({\r\n            pathname: \"/results\",\r\n            state: {\r\n              fromAPI: true,\r\n              received: volumes,\r\n            },\r\n          });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  goToProfile() {\r\n    if (Store.getState().Auth.user == null) {\r\n      this.props.history.push(\"/auth\");\r\n    } else {\r\n      this.props.history.push(\"/profile\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-expand-md navbar-light\">\r\n        <div className=\"container-fluid p-0\">\r\n          <div className=\"navColorBlock\"></div>\r\n          <p\r\n            onClick={() => {\r\n              this.props.history.push(\"/\");\r\n            }}\r\n            className=\"navbar-brand m-0 p-0 w-25 text-center text-md-start\"\r\n          >\r\n            Forum\r\n          </p>\r\n          <button\r\n            className=\"navbar-toggler me-3\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarNav\"\r\n            aria-controls=\"navbarNav\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n            <ul className=\"navbar-nav d-flex justify-content-between align-items-center w-100\">\r\n              <li className=\"nav-item w-75\">\r\n                <div className=\"searchBar\">\r\n                  <form onSubmit={this.execSearch}>\r\n                    <select\r\n                      value={this.state.value}\r\n                      onChange={(e) => {\r\n                        this.setState({ value: e.target.value });\r\n                      }}\r\n                      className=\"form-select\"\r\n                    >\r\n                      <option value=\"SELECT\">Select</option>\r\n                      <option value=\"FORUM\">Forum</option>\r\n                      <option value=\"TITLE\">Title</option>\r\n                      <option value=\"AUTHOR\">Author</option>\r\n                      <option value=\"ISBN\">ISBN</option>\r\n                    </select>\r\n                    <input\r\n                      onChange={(e) => {\r\n                        this.setState({ searchVal: e.target.value });\r\n                      }}\r\n                      className=\"form-control\"\r\n                      type=\"text\"\r\n                      name=\"query\"\r\n                      id=\"query\"\r\n                      required\r\n                    />\r\n                    <button type=\"submit\" className=\"btn\">\r\n                      Search\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </li>\r\n              <li className=\"nav-item ms-3\">\r\n                <div onClick={this.goToProfile} className=\"avatarContainer\">\r\n                  <div className=\"avatar text-center d-flex justify-content-center align-items-center\">\r\n                    <h1 className=\"mb-0\">F</h1>\r\n                  </div>\r\n                  <span>My Account</span>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.Auth.user,\r\n});\r\nexport default withRouter(connect(mapStateToProps)(Navbar));\r\n","export default __webpack_public_path__ + \"static/media/spotlight.fd6623fc.png\";","import \"./Header.css\";\r\nimport { Component } from \"react\";\r\nimport bg from \"../../images/spotlight.png\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      headerForum: {},\r\n      bookClubRef: \"\",\r\n    };\r\n\r\n    this.checkoutBookClub = this.checkoutBookClub.bind(this);\r\n  }\r\n\r\n  checkoutBookClub() {\r\n    this.props.history.push({\r\n      pathname: \"/forum\",\r\n      state: {\r\n        forum: this.state.headerForum,\r\n        bookClubRef: this.state.bookClubRef,\r\n      },\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(\"/popHeader\", {\r\n      method: \"GET\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        if (response.status === 200) {\r\n          this.setState({\r\n            headerForum: data.message.forum,\r\n            bookClubRef: data.message.bookClubRef,\r\n          });\r\n        } else {\r\n          console.log(data.message);\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"header\" className=\"container-fluid\">\r\n        <div className=\"row h-100\">\r\n          <div className=\"col-sm-12 col-md-6 headerImg py-5 pe-4  ps-5 d-flex position-relative\">\r\n            <img className=\"p-0 w-75\" src={bg} alt=\"books\" />\r\n            <img\r\n              className=\"p-0 w-50  position-relative rounded-3\"\r\n              src={this.state.headerForum.book?.imgLink}\r\n              alt=\"book\"\r\n            />\r\n          </div>\r\n          <div className=\"col-sm-12 col-md-6 py-5 pe-5  ps-4\">\r\n            <div className=\"headerDets\">\r\n              <h1>{this.state.headerForum.book?.title}</h1>\r\n              <h3 className=\"mb-3\">by {this.state.headerForum.book?.author}</h3>\r\n              <button\r\n                className=\"btn rounded-pill\"\r\n                onClick={this.checkoutBookClub}\r\n              >\r\n                Checkout Book Club!\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"headerExplore mt-4 mt-md-5\">\r\n              <h3>Explore Book Clubs in Related Genres</h3>\r\n              {this.state.headerForum.book?.searchCats.map(\r\n                (category, index) => (\r\n                  <button\r\n                    key={index}\r\n                    className=\"btn cat-btn rounded-pill\"\r\n                    onClick={this.viewCategory}\r\n                  >\r\n                    {category}\r\n                  </button>\r\n                )\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import \"./Forum.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Component } from \"react\";\r\n\r\nexport default class ForumCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.truncate = this.truncate.bind(this);\r\n    this.expandForum = this.expandForum.bind(this);\r\n    this.collapseForum = this.collapseForum.bind(this);\r\n    this.state = {\r\n      expand: false,\r\n    };\r\n  }\r\n\r\n  expandForum() {\r\n    this.setState({ expand: true });\r\n  }\r\n\r\n  collapseForum() {\r\n    this.setState({ expand: false });\r\n  }\r\n\r\n  truncate(comment, maxLength) {\r\n    if (comment.length <= maxLength) {\r\n      return comment;\r\n    } else {\r\n      let peak = [];\r\n      for (let i = 0; i < maxLength; i++) {\r\n        peak.push(comment[i]);\r\n      }\r\n      peak.push(\"...\");\r\n      return peak;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        onMouseOver={this.expandForum}\r\n        onMouseLeave={this.collapseForum}\r\n        className=\"forumContainer position-relative\"\r\n      >\r\n        <button\r\n          className=\"btn rounded-pill position-absolute\"\r\n          onClick={this.props.goTo}\r\n        >\r\n          View\r\n        </button>\r\n\r\n        <div className=\"forum position-relative d-flex\">\r\n          <div\r\n            className={\r\n              \"forumCover rounded-3 d-flex justify-content-center align-items-center \" +\r\n              (this.state.expand ? \"expandForum\" : \"\")\r\n            }\r\n            style={{\r\n              backgroundImage: this.props.forum.book.imgLink\r\n                ? `url(${this.props.forum.book.imgLink})`\r\n                : `url( \"/uploads/sampleBook.png\")`,\r\n            }}\r\n          ></div>\r\n          <div\r\n            className={\r\n              \"forumPeak  text-break \" +\r\n              (this.state.expand ? \"d-block\" : \"d-none\")\r\n            }\r\n          >\r\n            \"\r\n            {this.props.forum?.discourse.length > 0 &&\r\n              this.truncate(\r\n                this.props.forum.discourse[\r\n                  this.props.forum.discourse.length - 1\r\n                ].text,\r\n                100\r\n              )}\r\n            \"\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"p-0 m-0 forumHost\">\r\n          <strong>{this.props.forum.host.userName}</strong>\r\n        </p>\r\n\r\n        <h5>{this.props.forum.book.title}</h5>\r\n        <br></br>\r\n        <p className=\"forumTitle p-0 m-0\">by {this.props.forum.book.author}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nForumCard.propTypes = {\r\n  img: PropTypes.string.isRequired,\r\n  peak: PropTypes.string.isRequired,\r\n  host: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  author: PropTypes.string.isRequired,\r\n};\r\n","import \"./ForumFeature.css\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\nimport { Component } from \"react\";\r\nimport ForumCard from \"./ForumCard\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass ForumFeature extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      forums: [],\r\n      isLoading: true,\r\n    };\r\n\r\n    this.checkoutBookClub = this.checkoutBookClub.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(\"/getForumByCategory\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ category: this.props.query }),\r\n    })\r\n      .then(async (response) => {\r\n        const data = await response.json();\r\n        if (response.status === 200) {\r\n          this.setState({ forums: data.message });\r\n        } else {\r\n          console.log(\"ERROR: CANT FETCH ERROR\");\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }\r\n\r\n  checkoutBookClub(forum) {\r\n    this.props.history.push({\r\n      pathname: \"/forum\",\r\n      state: {\r\n        forum: forum.forum,\r\n        bookClubRef: forum.bookClubRef,\r\n      },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const settings = {\r\n      dots: true,\r\n      infinite: true,\r\n      speed: 500,\r\n      slidesToShow:\r\n        this.state.forums?.length > 6 ? 6 : this.state.forums?.length,\r\n      slidesToScroll:\r\n        this.state.forums?.length > 3 ? 3 : this.state.forums?.length,\r\n      initialSlide: 0,\r\n      responsive: [\r\n        {\r\n          breakpoint: 1024,\r\n          settings: {\r\n            slidesToShow:\r\n              this.state.forums?.length > 4 ? 4 : this.state.forums?.length,\r\n            slidesToScroll:\r\n              this.state.forums?.length > 2 ? 2 : this.state.forums?.length,\r\n            infinite: true,\r\n            dots: true,\r\n          },\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow:\r\n              this.state.forums?.length > 3 ? 3 : this.state.forums?.length,\r\n            slidesToScroll:\r\n              this.state.forums?.length > 1 ? 1 : this.state.forums?.length,\r\n            infinite: true,\r\n            dots: true,\r\n          },\r\n        },\r\n        {\r\n          breakpoint: 580,\r\n          settings: {\r\n            slidesToShow:\r\n              this.state.forums?.length > 2 ? 2 : this.state.forums?.length,\r\n            slidesToScroll:\r\n              this.state.forums?.length > 1 ? 1 : this.state?.length,\r\n            infinite: true,\r\n            dots: true,\r\n          },\r\n        },\r\n        {\r\n          breakpoint: 425,\r\n          settings: {\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            infinite: true,\r\n            dots: true,\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    return (\r\n      <div className=\"forumFeature\">\r\n        <h1>{this.props.title}</h1>\r\n        <Slider {...settings}>\r\n          {this.state.forums?.map((forum, index) => (\r\n            <ForumCard\r\n              key={index}\r\n              forum={forum.forum}\r\n              goTo={() => this.checkoutBookClub(forum)}\r\n            />\r\n          ))}\r\n        </Slider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(ForumFeature);\r\n\r\nForumFeature.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport Header from \"./Header\";\r\n\r\nimport ForumFeature from \"../Forum/ForumFeature\";\r\n\r\nexport default class Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      forum: {\r\n        img: \"sampleBook.png\",\r\n        peak:\r\n          \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas consectetur libero nisi animi, nulla modi officiis explicabo reprehenderit, illum placeat, deleniti quidem alias veritatis aspernatur? Eveniet cum mollitia voluptatibus accusamus velit illo maxime totam expedita inventore ab quidem, ut repudiandae nostrum? Delectus nesciunt nihil blanditiis illum beatae, at quidem a nam quis facilis fugit cum id nisi ipsa soluta inventore reiciendis iusto. Nulla minima hic porro, odio odit quaerat id saepe illo quam aut deserunt, perferendis aliquam iste iusto cum, nesciunt nostrum sed aperiam. Assumenda asperiores ducimus eligendi consequuntur. Dolor maxime, quasi sed culpa doloremque voluptate beatae nesciunt architecto enim?\",\r\n        host: \"USER123\",\r\n        title: \"The Priory of the Orange Tree\",\r\n        author: \"Samantha Shannon\",\r\n      },\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"home\">\r\n        <Navbar />\r\n        <Header />\r\n        <ForumFeature title=\"Forums in YA\" query=\"Juvenile Fiction\" />\r\n        <ForumFeature title=\"Forums in Fiction\" query=\"Fiction\" />\r\n        <footer\r\n          className=\"footer text-center d-flex flex-column justify-content-center\r\n        align-items-center\"\r\n        >\r\n          Icons made by Mavadee @\r\n          <a\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://www.flaticon.com/\"\r\n            target=\"_blank\"\r\n          >\r\n            www.flaticon.com\r\n          </a>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./Comment.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nexport default class Comment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.replyToComment = this.replyToComment.bind(this);\r\n  }\r\n\r\n  replyToComment() {\r\n    console.log(\"REPLY\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={\r\n          \"commentContainer container-fluid px-md-4 px-xxl-5 py-3 m-0 mb-3 \" +\r\n          (this.props.hostComment ? \"hostComment\" : \"\")\r\n        }\r\n      >\r\n        <div>\r\n          <div className=\"comment\">\r\n            <div>\r\n              <h5>{this.props.user}</h5>\r\n              <p>{this.props.comment}</p>\r\n            </div>\r\n\r\n            <div className=\"replyContainer position-relative w-100\">\r\n              <button\r\n                className=\"position-absolute\"\r\n                onClick={this.props.replyToComment}\r\n              >\r\n                Reply\r\n              </button>\r\n              <div className=\"replies\">\r\n                <button\r\n                  type=\"button\"\r\n                  data-bs-toggle=\"collapse\"\r\n                  data-bs-target={`#collapseRepliesComment${this.props.id}`}\r\n                  aria-expanded=\"false\"\r\n                  aria-controls={`collapseRepliesComment${this.props.id}`}\r\n                >\r\n                  View Replies\r\n                </button>\r\n\r\n                <div\r\n                  className=\"collapse\"\r\n                  id={`collapseRepliesComment${this.props.id}`}\r\n                >\r\n                  {this.props.replies?.length > 0 &&\r\n                    this.props.replies.map((reply, index) => (\r\n                      <div className=\"commentReply mb-5 mt-3\" key={index}>\r\n                        <h5>{reply.author.userName}</h5>\r\n                        <p>{reply.text}</p>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./Profile.css\";\r\n\r\nimport { Component } from \"react\";\r\n\r\nexport default class ActivityCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showViewBtn: false,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"activity px-3 px-xl-4 w-100 py-3 mb-2\">\r\n        <div\r\n          className=\"position-relative imgContainer float-start\"\r\n          onMouseOver={() => {\r\n            this.setState({ showViewBtn: true });\r\n          }}\r\n          onMouseLeave={() => {\r\n            this.setState({ showViewBtn: false });\r\n          }}\r\n        >\r\n          <img\r\n            className={\r\n              \"rounded-3 d-inline-block position-relative \" +\r\n              (this.state.showViewBtn ? \"activityHover\" : \"\")\r\n            }\r\n            src={`${this.props.img}`}\r\n            alt=\"Book\"\r\n          />\r\n          <div\r\n            className=\"coverOver position-absolute\"\r\n            style={{ zIndex: this.state.showViewBtn ? \"5\" : \"-1\" }}\r\n          ></div>\r\n          <button\r\n            onClick={this.props.goToForum}\r\n            style={{ zIndex: this.state.showViewBtn ? \"5\" : \"-1\" }}\r\n            className=\"btn rounded-pill position-absolute top-50 start-0 translate-middle-y\"\r\n          >\r\n            View\r\n          </button>\r\n        </div>\r\n\r\n        <p>\"{this.props.recent}\"</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./Profile.css\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nexport default class BookClubCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showBtns: false,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"userForum position-relative\"\r\n        onMouseOver={() => {\r\n          this.setState({ showBtns: true });\r\n        }}\r\n        onMouseLeave={() => {\r\n          this.setState({ showBtns: false });\r\n        }}\r\n      >\r\n        <div className=\"forumCover position-relative\">\r\n          <img\r\n            className={\r\n              \"rounded-3 mb-3 \" + (this.state.showBtns ? \"activityHover\" : \"\")\r\n            }\r\n            src={this.props.img}\r\n            alt={this.props.title}\r\n          />\r\n          <div\r\n            className=\"coverOver position-absolute\"\r\n            style={{ zIndex: this.state.showBtns ? \"5\" : \"-1\" }}\r\n          ></div>\r\n          <div\r\n            style={{ zIndex: this.state.showBtns ? \"5\" : \"-1\" }}\r\n            className=\"bookClubBtns position-absolute top-50 start-0 translate-middle-y\r\n          \"\r\n          >\r\n            <button\r\n              onClick={() => {\r\n                this.props.posMethod(this.props.book);\r\n              }}\r\n              className=\"btn rounded-pill mb-2\"\r\n            >\r\n              {this.props.posBtn}\r\n            </button>\r\n\r\n            {this.props.negMethod && (\r\n              <button\r\n                onClick={this.props.negMethod}\r\n                className=\"btn rounded-pill\"\r\n              >\r\n                {this.props.negBtn}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <h6 className=\"mb-0\">{this.props.title}</h6>\r\n        <p>by {this.props.author}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default function loadMime(file, callback) {\r\n  //List of known mimes\r\n  var mimes = [\r\n    {\r\n      mime: \"image/jpeg\",\r\n      pattern: [0xff, 0xd8, 0xff],\r\n      mask: [0xff, 0xff, 0xff],\r\n    },\r\n    {\r\n      mime: \"image/png\",\r\n      pattern: [0x89, 0x50, 0x4e, 0x47],\r\n      mask: [0xff, 0xff, 0xff, 0xff],\r\n    },\r\n  ];\r\n\r\n  function check(bytes, mime) {\r\n    for (var i = 0, l = mime.mask.length; i < l; ++i) {\r\n      if ((bytes[i] & mime.mask[i]) - mime.pattern[i] !== 0) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  var blob = file.slice(0, 4); //read the first 4 bytes of the file\r\n\r\n  var reader = new FileReader();\r\n  reader.onloadend = function (e) {\r\n    if (e.target.readyState === FileReader.DONE) {\r\n      var bytes = new Uint8Array(e.target.result);\r\n\r\n      for (var i = 0, l = mimes.length; i < l; ++i) {\r\n        if (check(bytes, mimes[i])) return callback(true);\r\n      }\r\n\r\n      return callback(false);\r\n    }\r\n  };\r\n  reader.readAsArrayBuffer(blob);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Book from \"../Profile/BookClubCard\";\r\nimport \"./Results.css\";\r\nimport Alert from \"../Alert/Alert\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Results extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      fromAPI: true,\r\n      results: [],\r\n      showAlert: false,\r\n      alertStyle: \"\",\r\n      alertDialog: \"\",\r\n    };\r\n    this.createForum = this.createForum.bind(this);\r\n    this.resetAlert = this.resetAlert.bind(this);\r\n    this.viewForum = this.viewForum.bind(this);\r\n  }\r\n\r\n  createForum(book) {\r\n    if (this.props.user) {\r\n      fetch(\"/createForum\", {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(book),\r\n      })\r\n        .then(async (response) => {\r\n          const data = await response.json();\r\n\r\n          if (response.status !== 201) {\r\n            this.setState({\r\n              showAlert: true,\r\n              alertStyle: \"danger\",\r\n              alertDialog: \"Error occured. Please try again later.\",\r\n            });\r\n          } else {\r\n            this.props.history.push({\r\n              pathname: \"/forum\",\r\n              state: {\r\n                forum: data.message.forum,\r\n                bookClubRef: data.message.bookClubRef,\r\n              },\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => console.log(error));\r\n    } else {\r\n      this.props.history.push(\"/auth\");\r\n    }\r\n  }\r\n\r\n  viewForum(forum) {\r\n    this.props.history.push({\r\n      pathname: \"/forum\",\r\n      state: {\r\n        forum: forum.forum,\r\n        bookClubRef: forum.bookClubRef,\r\n      },\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    let received = this.props.location.state.received;\r\n    if (received) {\r\n      let resultsArr = [];\r\n\r\n      for (let i = 0; i < received?.length; i++) {\r\n        let res = {\r\n          title: received[i]?.title,\r\n          img:\r\n            received[i]?.imageLinks == null\r\n              ? `uploads/sampleBook.png`\r\n              : received[i]?.imageLinks[0],\r\n          author:\r\n            received[i]?.authors == null ? \"None\" : received[i]?.authors[0],\r\n          searchCategories: received[i].categories,\r\n        };\r\n\r\n        resultsArr.push(res);\r\n      }\r\n      this.setState({\r\n        fromAPI: this.props.location.state.fromAPI,\r\n        results: resultsArr,\r\n      });\r\n    } else {\r\n      received = this.props.location.state.fetched;\r\n      this.setState({ results: received, fromAPI: false });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.state !== prevProps.location.state) {\r\n      let received = this.props.location.state.received;\r\n      if (received) {\r\n        let resultsArr = [];\r\n\r\n        for (let i = 0; i < received?.length; i++) {\r\n          let res = {\r\n            title: received[i]?.title,\r\n            img:\r\n              received[i]?.imageLinks == null\r\n                ? `uploads/sampleBook.png`\r\n                : received[i]?.imageLinks[0],\r\n            author:\r\n              received[i]?.authors == null ? \"None\" : received[i]?.authors[0],\r\n            searchCategories: received[i].categories,\r\n          };\r\n\r\n          resultsArr.push(res);\r\n        }\r\n        this.setState({\r\n          fromAPI: this.props.location.state.fromAPI,\r\n          results: resultsArr,\r\n        });\r\n      } else {\r\n        received = this.props.location.state.fetched;\r\n        this.setState({ results: received, fromAPI: false });\r\n      }\r\n    }\r\n  }\r\n\r\n  resetAlert() {\r\n    this.setState({\r\n      showAlert: false,\r\n      alertStyle: \"\",\r\n      alertDialog: \"\",\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar />\r\n        {this.state.showAlert && (\r\n          <Alert\r\n            alertStyle={this.state.alertStyle}\r\n            alertDialog={this.state.alertDialog}\r\n            resetAlert={this.resetAlert}\r\n          />\r\n        )}\r\n        <div className=\"resultsContent container\">\r\n          <h1>Search Results</h1>\r\n          <div className=\"results d-flex\">\r\n            {this.state.results.length === 0\r\n              ? \"Sorry, no items found. Try another search.\"\r\n              : this.state.fromAPI === true\r\n              ? this.state.results.map((forum, index) => (\r\n                  <div className=\"me-3 position-relative result\" key={index}>\r\n                    <Book\r\n                      title={forum.title}\r\n                      author={forum.author}\r\n                      img={\r\n                        forum.img !== null\r\n                          ? forum.img\r\n                          : \"/uploads/sampleBook.png\"\r\n                      }\r\n                      book={forum}\r\n                      key={index}\r\n                      fromAPI={this.state.fromAPI}\r\n                      posMethod={this.createForum}\r\n                      posBtn=\"Create\"\r\n                    />\r\n                  </div>\r\n                ))\r\n              : this.state.results.map((result, index) => (\r\n                  <div className=\"me-3 position-relative result\" key={index}>\r\n                    <Book\r\n                      title={result.forum.book.title}\r\n                      author={result.forum.book.author}\r\n                      img={\r\n                        result.forum.book.imgLink !== null\r\n                          ? result.forum.book.imgLink\r\n                          : \"/uploads/sampleBook.png\"\r\n                      }\r\n                      book={result.forum}\r\n                      key={index}\r\n                      fromAPI={this.state.fromAPI}\r\n                      posMethod={() => this.viewForum(result)}\r\n                      posBtn=\"View\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.Auth.user,\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(Results));\r\n","import \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Auth from \"./components/Auth/Auth\";\nimport Home from \"./components/Home/Home\";\nimport Discourse from \"./components/Discourse/Discourse\";\nimport Profile from \"./components/Profile/Profile\";\nimport Results from \"./components/Results/Results\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/auth\">\n            <Auth />\n          </Route>\n          <Route path=\"/\" exact>\n            <Home />\n          </Route>\n          <Route path=\"/forum\">\n            <Discourse />\n          </Route>\n          <Route path=\"/profile\">\n            <Profile />\n          </Route>\n          <Route path=\"/results\">\n            <Results />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport Store from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={Store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}